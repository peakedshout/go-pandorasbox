# pandorasbox
## 集成式工具库 【潘多拉魔盒】
#### 理念：集成、高效、抽象、多元、可靠
### 语言
#### ([EN](./README.md)/CN)
## 这是什么？该如何使用？
- 这是一个集成式工具库，目前主要偏网络类工具，如通信协议、加密编码、rpc框架等等，结合本人从事golang开发的思考，独自总结和封装的开发工具库。
- 因为这是一个集成式工具库，你可以通过[索引目录](#索引目录)去查阅有哪些功能，后续期望每一个重点功能模块都有一个说明文件。
- 因为这工具库最初服务于anchorage项目，所以功能并不能完全覆盖任何需求。
- 同时，这是开放的镜像，是经过一定整理和筛选才放出，所以，如果出现依赖缺失，那么可能是还未同步源项目，请耐心等待片刻。（源项目充斥着大量测试和调试的玩意，我猜不会有人喜欢这样子）
- 至于为什么我会开放出来这个镜像，一是[anchorage](https://github.com/peakedshout/go-anchorage)需要开源分发，需要将这工具库进行公开；二是这个工具库在开发上帮助了我很多，我觉得好东西值得分享。 
## 这玩意可以投入生产吗？可以保证安全吗？
- 很遗憾，这个工具库只有我在维护，审查和调试都是我在执行，个人的能力有限，无法担保这个工具库能百分百的支持你的工作。
- 如果你希望它投入生产，我也期待它能这么做，但我建议你最好是审查相关引用，降低问题出现的概率。
## 其他
- 如果觉得这个工具库有用，请给我一个✨，让它被更多人知道。
- 如果有相关疑问，可以提交issues，我将在空闲时处理它。
## 猜你想看
1. [httpporxy](./xnet/proxy/httpproxy)
   - 这是http的简单代理实现，内部使用了net/http包的实现，所以只支持http1类型的协议。
2. [socks](./xnet/proxy/socks)
   - 这是一个纯golang实现的socks4/4a/5的实现，参考了规范文档，整合抽象接口并支持更详细的配置。
3. [xrpc](./xrpc)
   - xrpc是自定义实现的rpc通信框架。
## 索引目录
1. [_build](./_build)
    - 这是一个用来简单交叉编译的脚本，通常用来copy到自己的项目，然后运行它进行编译项目。
2. [ccw](./ccw)
    - 这里包含了一些常用的异步控制工具封装。
    - 其中ctxtools一个对context一些封装和拓展，该拓展的功能性超过了我的预期，现在我的项目在异步操作里，总少不了引用它。
3. [control](./control)
    - 这是一个对底层socket通信的一个封装。
4. [logger](./logger)
    - 这是自研的日志库，用于打印调试；具有日志分级、日志分发、日志传递的功能。
5. [pcrypto](./pcrypto)
    - 封装的加密库，进行抽象了统一的接口，让多态加密更简单的调用。
6. [protocol](./protocol)
    - 封装的编码协议库，均实现统一的接口，在网络通信中的编码层是不可缺少的,如果你感兴趣，可以看看相关实现。
7. [tool](./tool)
    - 各种杂乱的工具库，基本只是实现部分简单的功能，体量没有庞大到单一出来，为了简单分类，故进行堆放在tool中。
    - 如果感兴趣的可以看看该级的目录。
8. [uerror](./uerror)
    - 实现的唯一错误码的错误库，解决跨项目和定位错误的困难，实现了相关errors的功能，但本人对该库并不是很满意，部分库具有引用。
    - 或许将来应该采用更简单的实现去替代它。
9. [xmsg](./xmsg)
    - xmsg是自定义实现流式通信协议，自定义报文结构，并集成了时延、速率和生命周期的记录。
    - xmsg是面向会话的工作方式。
    - 该应用场景偏底层连接处理，实现这一套让我学习到了许多关于网络知识的思考。
10. [xnet](./xnet)
    - 集成式网络工具库，有对网络接口的实现、网络代理等工具，是我开发网络逻辑时的便利脚手架。
    - 如果感兴趣的可以看看该级的目录。
11. [xrpc](./xrpc)
    - xrpc是自定义实现的rpc通信框架，基于xmsg库，实现了rpc、stream、send_stream、recv_stream、rrpc的通信。
    - xrpc重点是面向流的工作方式，其中会话与流的关系是1:n的关系。
    - 该应用场景参考了grpc的工作流程，结合自身思考完成的rpc通信框架。同样的，实现这一套让我学习到了许多关于网络知识的思考。
## TODO
1. [ ] 更强的可靠性（个人工具库，无法保证百分百的适合所有项目）
2. [ ] 更强的底层实现（抱歉，算法类是我的弱项）
3. [ ] 更多的拓展面（涉及到我的知识盲区了）
4. [ ] 更多的说明文档（但我很懒，我只能这么期待）